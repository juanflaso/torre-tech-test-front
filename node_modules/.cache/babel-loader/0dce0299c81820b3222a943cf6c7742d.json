{"ast":null,"code":"import _slicedToArray from\"/Users/juanfranciscolasodelgado/development/torre-tech-test/torre-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import SearchForm from'../../components/searchForm/SearchForm.jsx';import{getCard}from'../../components/factory/cardFactory.jsx';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HomeFeed=function HomeFeed(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),djangoResults=_useState2[0],setDjangoResults=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),queryToSend=_useState4[0],setQueryToSend=_useState4[1];var setSearchQueryFromForm=function setSearchQueryFromForm(query){setQueryToSend(query);};useEffect(function(){if(queryToSend&&queryToSend.length>0){axios.post(\"http://127.0.0.1:8000/feed/\",{query:queryToSend}).then(function(res){setDjangoResults(res.data);});}},[queryToSend]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SearchForm,{setSearchQueryFromForm:setSearchQueryFromForm}),djangoResults.map(function(result,index){return getCard(result,index);})]});};export default HomeFeed;","map":{"version":3,"sources":["/Users/juanfranciscolasodelgado/development/torre-tech-test/torre-front/src/pages/feed/HomeFeed.jsx"],"names":["React","useState","useEffect","SearchForm","getCard","axios","HomeFeed","djangoResults","setDjangoResults","queryToSend","setQueryToSend","setSearchQueryFromForm","query","length","post","then","res","data","map","result","index"],"mappings":"8LAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,UAAP,KAAuB,4CAAvB,CACA,OAASC,OAAT,KAAwB,0CAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,eACuBL,QAAQ,CAAC,EAAD,CAD/B,wCACZM,aADY,eACGC,gBADH,8BAEmBP,QAAQ,EAF3B,yCAEZQ,WAFY,eAECC,cAFD,eAInB,GAAMC,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACC,KAAD,CAAW,CACtCF,cAAc,CAACE,KAAD,CAAd,CACH,CAFD,CAIAV,SAAS,CAAE,UAAM,CAEb,GAAGO,WAAW,EAAIA,WAAW,CAACI,MAAZ,CAAqB,CAAvC,CAA0C,CACtCR,KAAK,CAACS,IAAN,CAAW,6BAAX,CAA0C,CAACF,KAAK,CAAEH,WAAR,CAA1C,EACCM,IADD,CACO,SAAAC,GAAG,CAAI,CACVR,gBAAgB,CAACQ,GAAG,CAACC,IAAL,CAAhB,CACH,CAHD,EAIH,CAIJ,CAXQ,CAWN,CAACR,WAAD,CAXM,CAAT,CAaA,mBACI,oCACI,KAAC,UAAD,EAAY,sBAAsB,CAAEE,sBAApC,EADJ,CAEMJ,aAAa,CAACW,GAAd,CAAmB,SAACC,MAAD,CAASC,KAAT,QAAmBhB,CAAAA,OAAO,CAACe,MAAD,CAASC,KAAT,CAA1B,EAAnB,CAFN,GADJ,CAQH,CA7BD,CA+BA,cAAed,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport SearchForm from '../../components/searchForm/SearchForm.jsx';\nimport { getCard } from '../../components/factory/cardFactory.jsx';\nimport axios from 'axios';\n\nconst HomeFeed = () => {\n    const [djangoResults, setDjangoResults] = useState([]);\n    const [queryToSend, setQueryToSend] = useState();\n\n    const setSearchQueryFromForm = (query) => {\n        setQueryToSend(query);\n    }\n\n    useEffect( () => {\n\n        if(queryToSend && queryToSend.length > 0) {\n            axios.post(\"http://127.0.0.1:8000/feed/\", {query: queryToSend})\n            .then( res => {\n                setDjangoResults(res.data)\n            })\n        }\n\n        \n\n    }, [queryToSend])\n\n    return (\n        <div>\n            <SearchForm setSearchQueryFromForm={setSearchQueryFromForm}/>\n            {(djangoResults.map( (result, index) => getCard(result, index)))}\n\n            \n        </div>\n    );\n}\n\nexport default HomeFeed;"]},"metadata":{},"sourceType":"module"}